# ğŸŒ API-Server-Konfiguration (gilt fÃ¼r mediamtx_api.py)
api_server:
  redis:
    host: "localhost"
    port: 6379
    key: "mediamtx:streams:latest"     # Redis-Key, aus dem die API die Streamdaten liest
  static_dir: "/opt/mediamtx-monitoring-backend/static"  # Pfad zu HTML, JS, CSS
  index_file: "index.html"             # Startseite im static-Verzeichnis
  listen_host: "0.0.0.0"               # Host fÃ¼r Uvicorn/ASGI (optional, falls extern aufrufbar)
  listen_port: 8080                    # Port fÃ¼r den FastAPI-Server (optional, falls separat gestartet)

# ğŸŒ Basis-URL der MediaMTX API (normalerweise Port 9997)
api_base_url: "http://localhost:9997"

# ğŸ§  Redis-Konfiguration (global gÃ¼ltig fÃ¼r alle Module)
redis:
  host: "localhost"
  port: 6379

# ğŸ“ Logging fÃ¼r alle Module in Redis
logging:
  level: "DEBUG"  # DEBUG, INFO, WARNING, ERROR, CRITICAL
  
# ğŸ“¦ Modul: Stream Collector (mediamtx_collector.py)
collector:
  redis_key: "mediamtx:streams:latest"
  output_json_path: "/tmp/mediamtx_streams.json"
  interval_seconds: 5

# ğŸ“¸ Modul: Snapshots (mediamtx_snapshots.py)
snapshots:
  backend: "ffmpeg"                      # Nur dokumentativ
  protocol: "rtsp"                       # Stream-Protokoll fÃ¼r Snapshot-Quellen
  port: 8554                             # z.â€¯B. RTSP-Port von MediaMTX
  output_dir: "/opt/mediamtx-monitoring-backend/static/snapshots"
  width: 320
  height: 180
  interval: 10                           # Alle 10 Sekunden pro Stream ein Bild (wird durch snapshots.py gelesen)
  timeout_seconds: 0                     # kann bleiben â€“ wird ggf. spÃ¤ter von opencv-Backend genutzt
  max_threads: 0                         # nur dokumentativ (irrelevant fÃ¼r ffmpeg-Dauerprozesse)

# ğŸ’» Modul: System Monitoring (mediamtx_system.py)
system_monitor:
  redis_key: "mediamtx:system:latest"
  output_json_path: "/tmp/mediamtx_system.json"
  interval_seconds: 10

# ğŸŒ Frontend-Parameter (wird nur vom Webserver verwendet)
frontend:
  snapshot_refresh_ms: 2000             # Browser lÃ¤dt alle 2s neue Bilder
  streamlist_refresh_ms: 5000           # Stream-API wird alle 5s neu geladen
