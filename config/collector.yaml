# 🌐 API-Server-Konfiguration (gilt für mediamtx_api.py)
api_server:
  static_dir: "/opt/mediamtx-monitoring-backend/static"
  index_file: "index.html"
  listen_host: "0.0.0.0"
  listen_port: 8080
  redis_key: "mediamtx:streams:latest"

# 🌐 Basis-URL der MediaMTX API
api_base_url: "http://localhost:9997"

# 🧠 Redis-Konfiguration (global)
redis:
  host: "localhost"
  port: 6379

# 📝 Logging
logging:
  level: "INFO"

# 📦 Stream Collector
collector:
  redis_key: "mediamtx:streams:latest"
  output_json_path: "/tmp/mediamtx_streams.json"
  interval_seconds: 5

# 📡 RTT-Messung (nur Publisher, Nicht-SRT)
rtt:
  enabled: true
  ewma_alpha: 0.5
  min_period_s: 30
  ttl_s: 300
  timeout_s: 0.9
  key_prefix: "rtt:pub"

# 📸 Snapshots
snapshots:
  backend: "ffmpeg"
  protocol: "rtsp"
  port: 8554
  output_dir: "/opt/mediamtx-monitoring-backend/static/snapshots"
  width: 320
  height: 180
  interval: 10
  timeout_seconds: 0
  max_threads: 0

# 💻 System Monitoring
system_monitor:
  redis_key: "mediamtx:system:latest"
  output_json_path: "/tmp/mediamtx_system.json"
  interval_seconds: 10

# 🌍 Frontend
frontend:
  snapshot_refresh_ms: 2000
  streamlist_refresh_ms: 5000
